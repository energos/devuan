#+TITLE: Devuan GNU+Linux
#+OPTIONS: toc:nil num:nil html-postamble:nil
#+STARTUP: showall

* Partitioning

#+begin_src bash
  cryptsetup luksFormat --type luks1 /dev/sde2
  cryptsetup luksOpen /dev/sde2 root1vm
  vgcreate root1vm /dev/mapper/root1vm
  lvcreate --name swap -L 512M root1vm
  lvcreate --name root -l 100%FREE root1vm
  mkfs.vfat -n EFI1 /dev/sde1
  mkfs.ext4 -L ROOT1 /dev/root1vm/root
  mkswap -L SWAP1 /dev/root1vm/swap

  mkdir /mnt/debinst
  mount /dev/root1vm/root /mnt/debinst/
  swapon /dev/root1vm/swap

  mkdir -p /mnt/debinst/boot/efi
  mount /dev/sde1 /mnt/debinst/boot/efi/

  debootstrap --arch=amd64 --merged-usr --include=mc,tmux,zile,bash-completion,net-tools,lvm2,cryptsetup,cryptsetup-initramfs daedalus /mnt/debinst http://deb.devuan.org/merged

  LANG=C.UTF-8 bin/xchroot /mnt/debinst /bin/bash
#+end_src

#+begin_src example
# lsblk -f /dev/sde
NAME               FSTYPE  FSVER  LABEL UUID                                   FSAVAIL FSUSE% MOUNTPOINTS
sde
├─sde1             vfat    FAT16  EFI1  AED6-BD65                                31.9M     0% /mnt/debinst/boot/efi
└─sde2             crypto_ 1            16645700-2da1-4512-bb00-e6b7f4b39714
  └─root1vm        LVM2_me LVM2 0       znR4uZ-ZWcZ-E1cT-A30U-nUHS-3lfY-L0Xuv6
    ├─root1vm-swap swap    1      SWAP1 fb2ec4c3-6bfd-4111-bfb2-0fb12ed04e5f                  [SWAP]
    └─root1vm-root ext4    1.0    ROOT1 52526ed9-4087-4141-9351-c121b9d329ba     12.5G     3% /mnt/debinst
#+end_src

* Debootstrap
#+begin_src bash
  mount /dev/rootvm/debian /mnt/debinst/
  debootstrap --arch=amd64 --merged-usr --include=mc,tmux,zile,bash-completion,net-tools,lvm2,cryptsetup,cryptsetup-initramfs daedalus /mnt/debinst https://devuan.c3sl.ufpr.br/merged
  LANG=C.UTF-8 xchroot /mnt/debinst /bin/bash
#+end_src
* Kernel
#+begin_src bash
  apt install linux-image-amd64
#+end_src
* Network
#+begin_src bash :results output verbatim
  cat /etc/network/interfaces
#+end_src

#+begin_example
# interfaces(5) file used by ifup(8) and ifdown(8)
# Include files from /etc/network/interfaces.d:
source /etc/network/interfaces.d/*

# The loopback network interface
auto lo
iface lo inet loopback

# The primary network interface
allow-hotplug eth0
auto eth0
iface eth0 inet dhcp
#+end_example

* Configure the system
#+begin_src bash
  bind '"\e[A": history-search-backward'
  bind '"\e[B": history-search-forward'
#+end_src

#+begin_src bash :results output verbatim
  cat /etc/apt/sources.list
#+end_src

#+begin_example
deb http://deb.devuan.org/merged daedalus           main contrib non-free non-free-firmware
deb http://deb.devuan.org/merged daedalus-security  main contrib non-free non-free-firmware
deb http://deb.devuan.org/merged daedalus-updates   main contrib non-free non-free-firmware
deb http://deb.devuan.org/merged daedalus-backports main contrib non-free non-free-firmware
#+end_example

#+begin_src bash
  apt update
  apt upgrade
  apt install firmware-linux-free firmware-linux-nonfree firmware-realtek
  apt install gawk mawk- fonts-terminus locales console-setup
  dpkg-reconfigure keyboard-configuration
  dpkg-reconfigure console-setup
  dpkg-reconfigure tzdata
  apt install openssh-server openssh-client
  apt install man-db manpages manpages-dev
  apt install pciutils file traceroute mime-support lsof curl wget plocate nmap ncat bc psmisc git silversearcher-ag build-essential fortune-mod fortunes fortunes-debian-hints flex bison aptitude debootstrap gpm chrony ncal evtest ripgrep htop ckermit tio deborphan imagemagick rpm sqlite3
#+end_src

* Emacs
#+begin_src bash
  apt install -t daedalus-backports emacs-gtk emacs-common-non-dfsg --no-install-recommends
  apt install autoconf automake gcc libpng-dev libpoppler-dev libpoppler-glib-dev libz-dev make pkg-config cmake libtool libvterm-dev
#+end_src

* Openbox
#+begin_src bash
  apt install openbox obconf xorg xinit xterm xtermcontrol rxvt-unicode lxappearance gmrun barrier xdotool wmctrl picom xclip adwaita-icon-theme gnome-themes-extra suckless-tools xbindkeys xcape x11-utils feh qiv xdg-utils xdg-user-dirs xdg-desktop-portal-gtk pipewire-audio xserver-xorg-video-intel xserver-xorg-video-radeon fonts-open-sans fonts-inconsolata fonts-dejavu fonts-hack fonts-liberation geany pavucontrol pulseaudio-utils pulsemixer pamixer --no-install-recommends
#+end_src

* Fun
#+begin_src bash
  apt install neofetch --no-install-recommends
  apt install cmus --no-install-recommends
#+end_src

* MPV
#+begin_src bash
  apt install -t daedalus-backports mpv yt-dlp
#+end_src

* Packages
#+begin_src bash
  apt install firefox-esr gkrellm gkrellm-volume dict rofi dunst
  apt install -t daedalus-backports libreoffice-writer libreoffice-calc libreoffice-math libreoffice-gtk3 hunspell-en-us hunspell-pt-br --no-install-recommends
#+end_src

* KDE Stuff
#+begin_src bash
  apt install qt5ct breeze breeze-gtk-theme breeze-icon-theme dolphin filelight kate kompare kpat ktorrent okteta okular kde-spectacle kdegraphics-thumbnailers dolphin-plugins kio-extras libmtp-runtime polkit-kde-agent-1 --no-install-recommends
#+end_src

* obmenu-generator
#+begin_src bash
  apt install perl libdata-dump-perl libgtk3-perl cpanminus --no-install-recommends
  cpanm Linux::DesktopFiles
#+end_src

#+begin_src bash
  mkdir ~/.config/obmenu-generator
  ln -s ../../Work/dotfiles/obmenu-generator/schema.pl ~/.config/obmenu-generator
  ln -s ../Work/dotfiles/bin/obmenu-generator ~/bin/
#+end_src

* Connman
#+begin_src bash
  apt install connman-gtk connman connman-vpn # --no-install-recommends
  apt purge ofono bluez
#+end_src

* Distrobox
#+begin_src bash
  apt install podman
#+end_src

#+begin_src bash
  distrobox create --image docker.io/library/ubuntu:16.04 --name ubuntu16
  distrobox list
  distrobox enter ubuntu16
  distrobox stop ubuntu16
  distrobox rm ubuntu16
#+end_src

#+begin_src bash
  dpkg --add-architecture i386
  apt update
  apt upgrade
  apt-get --no-install-recommends install bash-completion file git mg mc tmux rxvt-unicode-256color xterm xtermcontrol man-db manpages manpages-dev locales psmisc patch rsync ssh-client shared-mime-info xdg-user-dirs mime-support unzip netbase rename ttf-dejavu
  apt install eagle
#+end_src

* Install printer (Brother HL-1212W)
#+begin_src bash
  apt install cups cups-filters cups-ipp-utils cups-pk-helper printer-driver-brlaser system-config-printer ghostscript --no-install-recommends
  usermod -a -G lp,lpadmin lefty
#+end_src
As normal user:
#+begin_src bash
  system-config-printer
#+end_src
- Unlock
- Add
  + Network Printer
    - Find Network Printer
    - Host: printer ip <- Find
      + IPP Printer <- Forward
        - Brother (recommended) <- Forward
          + HL-1200 (recommended) <- Forward
    - Describe Printer <- Apply

* To buku or not to buku
#+begin_src bash
  apt install buku sqlite3
#+end_src

* The Whole Enchilada
#+begin_example
adwaita-qt
alsa-pipewire
alsa-utils
asciinema
barrier
barrier-gui
base-devel
base-system
bash-completion
bc
breeze
breeze-gtk
breeze-icons
brother-brlaser
buku
cairo-devel
calibre
ccache
chrony
clang
clang-tools-extra
cmake
cmst
cmus
cmus-pulseaudio
conky
connman-gtk
cryptsetup
cups
cups-filters
cups-pk-helper
dbus
deadbeef
debootstrap
dfu-util
dict
djvulibre
dolphin
dosbox-staging
dunst
elogind
emacs-gtk3
enigma
esptool
evtest
feh
filelight
firefox-esr
font-hack-ttf
font-inconsolata-otf
foomatic-db
foomatic-db-engine
foomatic-db-nonfree
fortune-mod
fortune-mod-void
fuse-sshfs
geany
ghostscript
gimp
git
gkrellm
glxinfo
gmrun
gnome-icon-theme
gnome-themes-extra
gnome-themes-extra-gtk
gnuchess
gperf
grub
grub-x86_64-efi
hdparm
htop
hunspell
hunspell-en_US
hunspell-pt_BR
ImageMagick
inkscape
iperf3
juliaup
kate5
kcolorchooser
kde-gtk-config5
kicad
kicad-footprints
kicad-library
kicad-symbols
kicad-templates
knights
kompare
kpat
ktorrent
liberation-fonts-ttf
libpng-devel
libreoffice-calc
libreoffice-gnome
libreoffice-kde
libreoffice-math
libreoffice-writer
librepcb
libva-utils
libvterm
linux-lts
linux-lts-headers
lvm2
lxappearance
make
man-pages-devel
man-pages-posix
mc
mesa-demos
mpv
neofetch
net-tools
ninja
nmap
obconf
obmenu-generator
okteta
okular
openbox
pamixer
parcellite
pavucontrol
picom
pipewire
pkgconf
plocate
podman
polkit-elogind
polkit-kde-agent
poppler-devel
poppler-glib-devel
psmisc
pulsemixer
python3-pip
python3-virtualenv
qalculate
qemu
qemu-ga
qiv
qt5ct
ripgrep
rofi
rsync
rxvt-unicode
slock
socklog-void
sound-theme-freedesktop
spectacle
spice-vdagent
synergy
sysbench
system-config-printer
terminus-font
the_silver_searcher
tint2
tio
tmux
tree
ttf-opensans
vdpauinfo
void-repo-nonfree
volumeicon
wget
whois
wmctrl
xbindkeys
xcape
xclip
xdg-desktop-portal
xdg-desktop-portal-gtk
xdg-user-dirs
xdg-utils
xdotool
xf86-video-qxl
xinit
xmag
xorg
xterm
xtermcontrol
xtools
yt-dlp
zig
zile
zlib-devel
#+end_example
